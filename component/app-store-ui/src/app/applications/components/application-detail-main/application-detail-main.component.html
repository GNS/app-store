<div fxLayout="column" fxLayoutGap="20px">
  <div class="intro-container">
    <h1>{{appData?.name}}</h1>
    <div class="status-label" [ngClass]="appData?.status"><span class="status-dot"></span> <span class="status-lbl">{{appData?.status}}</span></div>
    <div class="intro-text">
      {{appData?.description}}
    </div>
  </div>

  <div class="child-container">
    <mat-accordion>
      <mat-expansion-panel [expanded]="activatedTab == 'overview'" (opened)="switchTab('overview')">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Overview
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div class="overview-container">
          <div class="field-name-container" fxLayout="row" fxLayoutGap="20px">
            <div fxLayout="column" fxFlex="50">
              <div class="field" fxFlex><strong>Status</strong></div>
              <div class="field-val" fxFlex>{{appData?.status}}</div>
              <hr />

              <div class="field" fxFlex><strong>Token Type</strong></div>
              <div class="field-val" fxFlex>{{appData?.tokenType}}</div>
              <hr />

              <div class="field" fxFlex><strong>Subscriber</strong></div>
              <div class="field-val" fxFlex>{{appData?.subscriber}}</div>
              <hr />

              <div class="field" fxFlex><strong>Per Token Quota</strong></div>
              <div class="field-val" fxFlex>
                {{appData?.throttlingTier}}
                <br><br>
              </div>
            </div>

            <div fxLayout="column" fxFlex="50">
              <strong>Description</strong>
              {{appData?.description}}
            </div>
          </div>
          <div class="field-name-container" fxLayout="row">

          </div>

        </div>
      </mat-expansion-panel>
      <ng-container *ngIf="appData?.status == 'APPROVED'">
        <mat-expansion-panel [expanded]="activatedTab == 'keys-prod'" (opened)="switchTab('keys-prod')">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Production Keys
            </mat-panel-title>
          </mat-expansion-panel-header>

          <store-generate-key-form keyEnv="PRODUCTION"></store-generate-key-form>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="activatedTab == 'keys-sandbox'" (opened)="switchTab('keys-sandbox')">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Sandbox Keys
            </mat-panel-title>
          </mat-expansion-panel-header>

          <store-generate-key-form keyEnv="SANDBOX"></store-generate-key-form>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="activatedTab == 'subscriptions'" (opened)="switchTab('subscriptions')" class="subscription-tab">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Subscriptions
            </mat-panel-title>
          </mat-expansion-panel-header>

          <store-application-subscriptions></store-application-subscriptions>


        </mat-expansion-panel>
      </ng-container>
    </mat-accordion>
  </div>

</div>